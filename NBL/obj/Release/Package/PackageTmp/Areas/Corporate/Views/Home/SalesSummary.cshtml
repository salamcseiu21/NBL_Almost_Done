@using NBL.Models.ViewModels

@{
    ViewBag.Title = "SalesSummary";
    Layout = "~/Views/Shared/_UserLayoutPage.cshtml";
    var user = (ViewUser)Session["user"];
    var delivered = Model.TotalDeliveredQuantity;
    var production = Model.Production;
    var tOrder = Model.TotalOrder;
    var collection = Model.ViewTotalCollection;
    var saleValue = Model.ViewTotalSaleValue;
}
 
<section class="content">
    <div class="panel panel-info">
        <div class="panel panel-heading" style="font-size: 22px;font-weight: bolder">Sales Summary</div>
        <div class="panel panel-body">
            <div class="row">
                <div class="col-md-6">
                    @*@Html.Partial("_ViewSalesReportChartPartialPage", Model.TotalOrder)*@

                    @*<div class="box box-success">
                            <div class="box-header with-border">
                                <h3 class="box-title">Total Order (@DateTime.Now.Year)</h3>
                                <div class="box-tools pull-right">
                                    <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                        <i class="fa fa-minus"></i>
                                    </button>
                                    <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                                </div>
                            </div>
                            <div class="box-body chart-responsive">
                                <canvas id="barchart" height="255" width="600"></canvas>
                            </div>
                        </div>*@
                    <div class="box box-success">
                        <div class="box-header with-border">
                            <h3 class="box-title">Sales VS Collection (@DateTime.Now.Year)</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="bar-chart-sales-vs-collection" style="height: 350px;"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="box box-success">
                        <div class="box-header with-border">
                            <h3 class="box-title">Production VS Sale (@DateTime.Now.Year)</h3>
                            <div class="box-tools pull-right">
                                <button type="button" class="btn btn-box-tool" data-widget="collapse">
                                    <i class="fa fa-minus"></i>
                                </button>
                                <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
                            </div>
                        </div>
                        <div class="box-body chart-responsive">
                            <div class="chart" id="bar-chart" style="height: 350px;"></div>
                        </div>
                    </div>
                </div>

                <!-- /.col -->
            </div>
        </div>
    </div>

</section>

@section Scripts
{
    <script>
        $(function() {
            "use strict";

            //BAR CHART
            var bar = new Morris.Bar({
                element: 'bar-chart',
                resize: true,
                data: [
                    { y: 'January', a: @production.January, b: @delivered.January },
                    { y: 'February', a: @production.February, b: @delivered.February },
                    { y: 'March', a: @production.March, b: @delivered.March },
                    { y: 'April', a: @production.April, b: @delivered.April },
                    { y: 'May', a: @production.May, b: @delivered.May },
                    { y: 'June', a: @production.June, b: @delivered.June },
                    { y: 'July', a: @production.July, b: @delivered.July },
                    { y: 'August', a: @production.August, b: @delivered.August },
                    { y: 'September', a: @production.September, b: @delivered.September },
                    { y: 'October', a: @production.October, b: @delivered.October },
                    { y: 'November', a: @production.November, b: @delivered.November },
                    { y: 'December', a: @production.December, b: @delivered.December }
                ],
                barColors: ['#00a65a', '#f56954'],
                xkey: 'y',
                ykeys: ['a', 'b'],
                labels: ['Production', 'Sale'],
                hideHover: 'auto'
            });
        });

</script>

<script>
        $(function() {
            "use strict";

            //BAR CHART
            var bar = new Morris.Bar({
                element: 'bar-chart-sales-vs-collection',
                resize: true,
                data: [
                    { y: 'January', a: @saleValue.January, b: @collection.January },
                    { y: 'February', a: @saleValue.February, b: @collection.February },
                    { y: 'March', a: @saleValue.March, b: @collection.March },
                    { y: 'April', a: @saleValue.April, b: @collection.April },
                    { y: 'May', a: @saleValue.May, b: @collection.May },
                    { y: 'June', a: @saleValue.June, b: @collection.June },
                    { y: 'July', a: @saleValue.July, b: @collection.July },
                    { y: 'August', a: @saleValue.August, b: @collection.August },
                    { y: 'September', a: @saleValue.September, b: @collection.September },
                    { y: 'October', a: @saleValue.October, b: @collection.October },
                    { y: 'November', a: @saleValue.November, b: @collection.November },
                    { y: 'December', a: @saleValue.December, b: @collection.December }
                ],
                barColors: ['#00a65a', '#f56954'],
                xkey: 'y',
                ykeys: ['a', 'b'],
                labels: ['Sale', 'Collection'],
                hideHover: 'auto'
            });
        });

</script>
}
